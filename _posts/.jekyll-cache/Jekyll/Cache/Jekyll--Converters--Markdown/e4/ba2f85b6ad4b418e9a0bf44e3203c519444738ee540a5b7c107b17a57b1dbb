I"ıT<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1>

<p>listenerï¼Œä¸»è¦ç”¨æ¥ç›‘å¬å®¢æˆ·ç«¯å‘æ•°æ®åº“æœåŠ¡å™¨ç«¯æå‡ºçš„è¿æ¥è¯·æ±‚ï¼Œæ˜¯åŸºäºæœåŠ¡å™¨ç«¯çš„æœåŠ¡ï¼Œé‚£ä¹ˆå®ƒä¹Ÿåªå­˜åœ¨äºæ•°æ®åº“æœåŠ¡å™¨ç«¯ï¼Œè¿›è¡Œç›‘å¬å™¨çš„è®¾ç½®ä¹Ÿæ˜¯åœ¨æ•°æ®åº“æœåŠ¡å™¨ç«¯å®Œæˆçš„ã€‚</p>

<p>è¦æ’é™¤å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯çš„è¿æ¥é—®é¢˜ï¼Œé¦–å…ˆæ£€æŸ¥å®¢æˆ·ç«¯é…ç½®æ˜¯å¦æ­£ç¡®(å®¢æˆ·ç«¯é…ç½®å¿…é¡»ä¸æ•°æ®åº“æœåŠ¡å™¨ç«¯ç›‘å¬é…ç½®ä¸€è‡´)ï¼Œå†æ ¹æ®é”™è¯¯æç¤ºè§£å†³ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ä½¿ç”¨oracleè¿‡ç¨‹ä¸­ï¼Œç¢°åˆ°çš„ä¸€äº›ç›‘å¬æ•…éšœ/é—®é¢˜çš„è®°å½•/æ±‡æ€»ã€‚</p>

<h1 id="ora-12541-tns-æ²¡æœ‰ç›‘å¬å™¨">ORA-12541: TNS: æ²¡æœ‰ç›‘å¬å™¨</h1>

<p>æ˜¾è€Œæ˜“è§ï¼ŒæœåŠ¡å™¨ç«¯çš„ç›‘å¬å™¨æ²¡æœ‰å¯åŠ¨ï¼Œå¦å¤–æ£€æŸ¥å®¢æˆ·ç«¯IPåœ°å€æˆ–ç«¯å£å¡«å†™æ˜¯å¦æ­£ç¡®ã€‚å¯åŠ¨ç›‘å¬å™¨ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ lsnrctl start
</code></pre></div></div>

<h1 id="ora-12500-tns-ç›‘å¬ç¨‹åºæ— æ³•å¯åŠ¨ä¸“ç”¨æœåŠ¡å™¨è¿›ç¨‹">ORA-12500: TNS: ç›‘å¬ç¨‹åºæ— æ³•å¯åŠ¨ä¸“ç”¨æœåŠ¡å™¨è¿›ç¨‹</h1>

<p>æ²¡æœ‰å¯åŠ¨Oracleå®ä¾‹æœåŠ¡ã€‚å¯åŠ¨å®ä¾‹æœåŠ¡ã€‚</p>

<h1 id="ora-12535-tns-æ“ä½œè¶…æ—¶">ORA-12535: TNS: æ“ä½œè¶…æ—¶</h1>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TNS-12154 (ORA-12154)ï¼šTNS:could not resolve service name
</code></pre></div></div>

<p>æ£€æŸ¥è¾“å…¥çš„æœåŠ¡åä¸é…ç½®çš„æœåŠ¡åæ˜¯å¦ä¸€è‡´ã€‚å¦å¤–æ³¨æ„ç”Ÿæˆçš„æœ¬åœ°æœåŠ¡åæ–‡ä»¶(Linux/Unixä¸‹$ORACLE_HOME/network/admin/tnsnames.ora)é‡Œæ¯é¡¹æœåŠ¡çš„é¦–è¡ŒæœåŠ¡åç§°å‰ä¸èƒ½æœ‰ç©ºæ ¼ã€‚</p>

<h1 id="ora-12514-tns-ç›‘å¬è¿›ç¨‹ä¸èƒ½è§£æåœ¨è¿æ¥æè¿°ç¬¦ä¸­ç»™å‡ºçš„-service_name">ORA-12514: TNS: ç›‘å¬è¿›ç¨‹ä¸èƒ½è§£æåœ¨è¿æ¥æè¿°ç¬¦ä¸­ç»™å‡ºçš„ SERVICE_NAME</h1>

<p>æ£€æŸ¥tnsnames.oraé‡Œçš„æœåŠ¡åè¾“å…¥æ˜¯å¦æ­£ç¡®ã€‚è¯¥æœåŠ¡åå¿…é¡»ä¸æœåŠ¡å™¨ç«¯ç›‘å¬å™¨é…ç½®çš„å…¨å±€æ•°æ®åº“åä¸€è‡´ã€‚</p>

<h1 id="ora-12514tnsç›‘å¬ç¨‹åºå½“å‰æ— æ³•è¯†åˆ«è¿æ¥æè¿°ç¬¦ä¸­è¯·æ±‚çš„æœåŠ¡">ORA-12514:TNS:ï¼šç›‘å¬ç¨‹åºå½“å‰æ— æ³•è¯†åˆ«è¿æ¥æè¿°ç¬¦ä¸­è¯·æ±‚çš„æœåŠ¡</h1>

<p>ç°è±¡ï¼š</p>

<p>ï¼ˆ1ï¼‰åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä½¿ç”¨sqlplus user/password@SIDå‡æ— æ³•è¿æ¥</p>

<p>ï¼ˆ2ï¼‰åœ¨æœåŠ¡ç«¯ä½¿ç”¨sqlplus user/password@SIDå¯ä»¥å»ºç«‹è¿æ¥ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨ä½¿ç”¨sqlplus user/password@SIDæ— æ³•å»ºç«‹è¿æ¥ã€‚</p>

<p>è§£å†³ï¼š</p>

<p>ï¼ˆæ–¹æ³•1ï¼‰æ£€æŸ¥listener.oraä»¥åŠtnsnames.oraæ–‡ä»¶ã€‚ä¸»è¦æ˜¯æ£€æŸ¥æ–‡ä»¶ä¸­çš„HOSTæ˜¯å¦ä¸º</p>

<p>å½“å‰ä¸»æœºåï¼ˆhostnameï¼‰ï¼Œå¦‚æœä¸æ˜¯ï¼Œä¿®æ”¹æˆå½“å‰ä¸»æœºåï¼ˆhostnameï¼‰æˆ–IPåœ°å€ï¼›</p>

<p>ï¼ˆæ–¹æ³•2ï¼‰åœ¨listener.oraæ–‡ä»¶ä¸­æ·»åŠ SID_LIST_LISTENERä¿¡æ¯ã€‚</p>

<p>åˆ›å»ºç›‘å¬é”™è¯¯</p>

<p><img class="shadow" src="/img/in-post/oracle-listener-create-error.png" widtgh="1200" /></p>

<p>è¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p>

<p>åœ¨ORACLE_HOME/network/admin/listener.oraæ–‡ä»¶ä¸­å¢åŠ â€SID_LIST_LISTENER = â€œè¿™éƒ¨åˆ†å†…å®¹ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST=10.164.75.167)(PORT = 1521))
    )
  )
SID_LIST_LISTENER =
    (SID_DESC =
      (GLOBAL_DBNAME = ora11g)       //ora11gæ˜¯æ•°æ®åº“å®ä¾‹å
      (ORACLE_HOME = /opt/oracle/app/product/11.1.0/db_1)    //oracleå®¶ç›®å½•
      (SID_NAME = ora11g)           
    )
  )
</code></pre></div></div>

<p>æ³¨ï¼š</p>

<p>Oracle System Identifier (SID)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A name that identifies a specific instance of a running pre-release 8.1 Oracle
database. For any database, there is at least one instance referencing the database.
For pre-release 8.1 databases, SID is used to identify the database. The SID is
included in the connect descriptor of a tnsnames.ora file and in the definition of the
listener in the listener.ora file.
</code></pre></div></div>

<p>å¦‚æœSIDå€¼ä¸ä½œäººä¸ºçš„ä¿®æ”¹ï¼Œè¯¥å€¼é»˜è®¤ä¸ºPLSExtProcï¼Œä¸”å®Œå…¨å¯ä»¥æ­£å¸¸è¿è¡Œï¼ˆç›®å‰141  ä¸Šçš„æ•°æ®åº“è¯¥å€¼å°±æ˜¯PLSExtProcï¼‰ã€‚å› æ­¤æˆ‘è§‰å¾—å¯èƒ½æ˜¯å¦‚æœä¸æŒ‡å®šSIDå€¼çš„è¯ï¼Œoracleä¼šè‡ªåŠ¨åœ°å»æœç´¢è¿è¡Œçš„å®ä¾‹ï¼Œç„¶åæ‰¾å‡ºä¸€ä¸ªåŒ¹é…çš„ï¼Œä½†æ˜¯å¦‚æœç›´æ¥æŒ‡å®šSIDï¼Œåˆ™çœå»äº†æœç´¢çš„æ­¥éª¤ï¼Œä¹Ÿå°±åŠ å¿«äº†è¿æ¥é€Ÿåº¦ã€‚ä¸è¿‡è¿™ç§çŒœæƒ³ç›®å‰å°šæœªå¾—åˆ°è¯å®ï¼Œå¦‚æœå¤§å®¶å¯¹è¿™æ–¹é¢äº†è§£çš„è¯ï¼Œå¸Œæœ›ä¸åèµæ•™ã€‚</p>

<h1 id="å¯åŠ¨ç›‘å¬æ—¶å‡ºé”™--12514">å¯åŠ¨ç›‘å¬æ—¶å‡ºé”™ â€“ 12514</h1>

<p>æ­£ç¡®åˆ›å»ºç›‘å¬åï¼Œå¯åŠ¨ç›‘å¬æ—¶ç›‘å¬å¯åŠ¨å¼‚å¸¸ï¼ŒæŠ¥12514é”™è¯¯ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oerr ora 12514
12514, 00000, "TNS:listener does not currently know of service requested in connect descriptor"
// *Cause:  The listener received a request to establish a connection to a
// database or other service. The connect descriptor received by the listener
// specified a service name for a service (usually a database service)
// that either has not yet dynamically registered with the listener or has
// not been statically configured for the listener.  This may be a temporary
// condition such as after the listener has started, but before the database
// instance has registered with the listener.
// *Action:
//  - Wait a moment and try to connect a second time.
//  - Check which services are currently known by the listener by executing:
//    lsnrctl services &lt;listener name&gt;
//  - Check that the SERVICE_NAME parameter in the connect descriptor of the
//    net service name used specifies a service known by the listener.
//  - If an easy connect naming connect identifier was used, check that
//    the service name specified is a service known by the listener.
//  - Check for an event in the listener.log file.
</code></pre></div></div>

<p>è§£å†³æ–¹æ³•åŒä¸Šã€‚</p>

<p>å¦‚æœå‡ºç°TNSé”™è¯¯æ—¶ï¼Œæœ‰å¯èƒ½æ˜¯å› ä¸ºæ²¡æœ‰åŠ è½½æ•°æ®åº“å®ä¾‹ï¼ŒåŠ è½½æ–¹æ³•å¦‚ä¸‹ï¼š</p>

<p>åœ¨SQL/PLUSä¸­è¾“å…¥startup forceï¼Œå¼ºåˆ¶åŠ è½½æ•°æ®åº“å®ä¾‹ã€‚</p>

<h1 id="oracleæ•°æ®åº“ç›‘å¬å¯åŠ¨å¤±è´¥æŠ¥0052512560ç­‰é”™çš„è§£å†³æ–¹æ³•">oracleæ•°æ®åº“ç›‘å¬å¯åŠ¨å¤±è´¥ï¼ŒæŠ¥00525ï¼Œ12560ç­‰é”™çš„è§£å†³æ–¹æ³•</h1>

<p>å¯åŠ¨æ•°æ®åº“ç›‘å¬ï¼ŒæŠ¥å¦‚ä¸‹è­¦å‘Šï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LSNRCTL&gt; start
Starting /opt/oracle/product/11g//bin/tnslsnr: please wait...
TNSLSNR for Linux: Version 11.1.0.7.0 - Production
System parameter file is /opt/oracle/product/11g//network/admin/listener.ora
Log messages written to /opt/oracle/diag/tnslsnr/RAC2/listener/alert/log.xml
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=RAC2)(PORT=1521)))
Error listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=EXTPROC1521)))
TNS-12555: TNS:permission denied
 TNS-12560: TNS:protocol adapter error
  TNS-00525: Insufficient privilege for operation
   Linux Error: 1: Operation not permitted
Listener failed to start. See the error message(s) above...
</code></pre></div></div>

<p>åŸå› åˆ†æ</p>

<p>TCPç›‘å¬æ­£å¸¸ï¼ŒIPCç›‘å¬å¤±è´¥ï¼Œç”±TNS-12555å’ŒTNS-12560é”™è¯¯ç¡®å®šæ˜¯IPCåè®®å‡ºé”™ï¼Œç”±TNS-00525ç¡®å®šæ˜¯æƒé™ä¸è¶³ï¼ŒæŸ¥çœ‹/tmp/.oracleç›®å½•ä¸‹æ— å†…å®¹ï¼Œå¯ä»¥ç¡®å®šæ˜¯å› ä¸ºæŸç§åŸå› ï¼Œoracleä¸èƒ½åœ¨è¯¥ç›®å½•ä¸‹ç”ŸæˆIPCç›‘å¬çš„KEYå€¼ï¼Œå¯¼è‡´IPCç›‘å¬å¤±è´¥.</p>

<p>è§£å†³æ–¹æ³•</p>

<p>å°†ICPç›‘å¬å–æ¶ˆï¼Œå°† (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))è¿™å¥è¯æ³¨é‡Šæ‰ä¸ä½¿ç”¨ï¼Œå¯ä»¥æš‚æ—¶è§£å†³è¯¥é—®é¢˜ã€‚å¯ä»¥ä½¿æ•°æ®åº“ä½œä¸ºå®¢æˆ·ç«¯æ¥ä½¿ç”¨</p>

<p>æ–¹æ³•äºŒï¼š</p>

<p>ä¿®æ”¹å¦‚ä¸‹æ–‡ä»¶å¤¹çš„æƒé™</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/tmp/.oracleçš„æƒé™ 
/var/tmp/.oracleçš„æƒé™ 
</code></pre></div></div>

<p>oracleåº”è¯¥æœ‰è¿™äº›ç›®å½•çš„æƒé™ï¼Œç”¨oinstall</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chown -R  oracle:oinstall /tmp/.oracle 
chown -R  oracle:oinstall /var/tmp/.oracle 
</code></pre></div></div>

<h1 id="aixä¸‹ç›‘å¬æ— æ³•åœæ­¢">AIXä¸‹ç›‘å¬æ— æ³•åœæ­¢</h1>

<p>AIXä¸‹ORACLE11Gï¼ˆç‰ˆæœ¬ï¼šOracle Database 11g Enterprise Edition Release 11.1.0.6.0 - 64bit Productionï¼‰ç›‘å¬åœæ­¢ã€å¯åŠ¨å¤±è´¥</p>

<p>è¡¨è±¡:</p>

<p>åœæ­¢ç›‘å¬</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% lsnrctl stop
LSNRCTL for IBM/AIX RISC System/6000: Version 11.1.0.6.0 - Production on 17-6æœˆ -2009 19:22:34
Copyright (c) 1991, 2007, Oracle.  All rights reserved.
Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=infox2)(PORT=1521)))
TNS-01190: The user is not authorized to execute the requested listener command
</code></pre></div></div>

<p>å¯åŠ¨ç›‘å¬</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% lsnrctl start
LSNRCTL for IBM/AIX RISC System/6000: Version 11.1.0.6.0 - Production on 17-6æœˆ -2009 19:51:21
Copyright (c) 1991, 2007, Oracle.  All rights reserved.
Starting /opt/oracle/app/product/11.1.0/db_1/bin/tnslsnr: please wait...
TNSLSNR for IBM/AIX RISC System/6000: Version 11.1.0.6.0 - Production
System parameter file is /opt/oracle/app/product/11.1.0/db_1/network/admin/listener.ora
Log messages written to /opt/oracle/app/diag/tnslsnr/infox2/listener/alert/log.xml
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=infox2)(PORT=1521)))
Error listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=EXTPROC1521)))
TNS-12555: TNS:permission denied
 TNS-12560: TNS:protocol adapter error
  TNS-00525: Insufficient privilege for operation
   IBM/AIX RISC System/6000 Error: 1: Not owner
Listener failed to start. See the error message(s) above...
</code></pre></div></div>

<p>è§£å†³æ–¹æ³•</p>

<p>ä¿®æ”¹ORACLE_HOMEç›®å½•ä¸‹lintener.oraæ–‡ä»¶ï¼Œä¾‹å¦‚ä¿®æ”¹ä¸ºï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST=10.164.75.22)(PORT = 1521))
    )
  )
  
SID_LIST_LISTENER =
    (SID_DESC =
      (GLOBAL_DBNAME = smsgrpt)       //å®ä¾‹å
      (ORACLE_HOME = /opt/oracle/app/product/11.1.0/db_1)   // ORACLE_HOME ç›®å½•è·¯å¾„
      (SID_NAME = smsgrpt)           
    )
  )
</code></pre></div></div>

<p>æ³¨ï¼š
oracleç‰ˆæœ¬ä¸ºVersion 11.1.0.6.0çš„ï¼Œå‡ ä¹éƒ½ä¼šé‡è§ä¸Šè¿°ç›‘å¬ç›¸å…³é—®é¢˜ï¼Œè§£å†³æ–¹æ³•ä¸€èˆ¬éƒ½æ˜¯å¢åŠ SIDä¿¡æ¯ã€‚</p>

<h1 id="ç»“è¯­">ç»“è¯­</h1>

<p>å½“ä¸å¾—å·²è€Œä¸ºä¹‹çš„æ—¶å€™ï¼Œåˆ é™¤ç›‘å¬ï¼Œé‡æ–°å»ºç«‹ä¸€ä¸ªç›‘å¬ã€‚</p>

<p>æµ‹è¯•tnsçš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡tnsping æ¥è¿›è¡Œã€‚</p>

<p>åœ¨æœåŠ¡å™¨æµ‹è¯•ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tnsping mmsgdbï¼ˆè¿™é‡Œçš„mmsgdbæ˜¯æ•°æ®åº“çš„å®ä¾‹åï¼‰ 
</code></pre></div></div>

<p>å®¢æˆ·ç«¯æµ‹è¯•å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tnsping 10.164.75.220/mmsgdb
</code></pre></div></div>

<p>ä»¥ä¸Šæ˜¯Oracleå®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨ç«¯å¸¸è§çš„ä¸€äº›é—®é¢˜ï¼Œå½“ç„¶ä¸èƒ½å›Šæ‹¬æ‰€æœ‰çš„è¿æ¥å¼‚å¸¸ã€‚è§£å†³é—®é¢˜çš„å…³é”®åœ¨äºæ–¹æ³•ä¸æ€è·¯ï¼Œè€Œä¸æ˜¯æ¯ç§é—®é¢˜éƒ½æœ‰å›ºå®šçš„ç­”æ¡ˆã€‚</p>

<h1 id="tns-01189æ¡ˆä¾‹">TNS-01189æ¡ˆä¾‹</h1>

<p>è¡¨è±¡:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oracle@mmsg01:~/product/11g/network/admin&gt; lsnrctl status

LSNRCTL for Linux: Version 11.1.0.7.0 - Production on 31-3?? -2010 18:09:47

Copyright (c) 1991, 2008, Oracle.  All rights reserved.

?y?ÃºÃ¡??Ã³Î¼? (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=mmsg01)(PORT=1521)))
TNS-01189: ç›‘å¬ç¨‹åºæ— æ³•éªŒè¯ç”¨æˆ·
oracle@mmsg01:~/product/11g/network/admin&gt; lsnrctl stop  

LSNRCTL for Linux: Version 11.1.0.7.0 - Production on 31-3?? -2010 18:09:50

Copyright (c) 1991, 2008, Oracle.  All rights reserved.

?y?ÃºÃ¡??Ã³Î¼? (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=mmsg01)(PORT=1521)))
TNS-01189: ç›‘å¬ç¨‹åºæ— æ³•éªŒè¯ç”¨æˆ·
oracle@mmsg01:~/product/11g/network/admin&gt; lsnrctl start

LSNRCTL for Linux: Version 11.1.0.7.0 - Production on 31-3?? -2010 18:09:51

Copyright (c) 1991, 2008, Oracle.  All rights reserved.

TNS-01106: 00106 ä½¿ç”¨åç§°LISTENERçš„ç›‘å¬ç¨‹åºå·²ç»å¯åŠ¨
oracle@mmsg01:~/product/11g/network/admin&gt;
</code></pre></div></div>

<p>åŸå› </p>

<p>è§£æä¸»æœºåå‡ºé”™ã€‚</p>

<p>ä¸»æœºåä¸ºmmsg01ï¼Œè€Œåœ¨/etc/hostsæ–‡ä»¶ä¸­ï¼Œè™½ç„¶æ‰¾åˆ°äº†ä¸»æœºåä¸ºmmsg01çš„è®°å½•ï¼Œä½†æ˜¯ifconfigè§‚å¯Ÿä¹‹åï¼Œå‘ç°å°ç½‘æ®µï¼ˆ192ç½‘æ®µï¼‰æ˜¾ç¤ºçš„IPä¿¡æ¯ä¸/etc/hostsæ–‡ä»¶ä¸­ä¸ä¸€è‡´ï¼Œä¸”/etc/hostsæ–‡ä»¶ä¸­ç¼ºå°‘å¤–ç½‘æ®µï¼ˆ10ç½‘æ®µï¼‰çš„è®°å½•ã€‚</p>

<p>è§£å†³æ–¹æ³•</p>

<p>ä¿®æ”¹/etc/hostsæ–‡ä»¶ï¼Œå¢åŠ å°ç½‘æ®µå’Œå¤–ç½‘æ®µä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>192.168.100.106 mmsg01
10.164.75.102    mmsg01
</code></pre></div></div>

<h1 id="æœºå™¨æ›´æ¢ipåç›‘å¬å¯åŠ¨å¤±è´¥">æœºå™¨æ›´æ¢IPåç›‘å¬å¯åŠ¨å¤±è´¥</h1>

<p>æ—¥å¿—</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;msg time='2010-04-20T09:56:43.897+08:00' org_id='oracle' comp_id='tnslsnr'
 type='UNKNOWN' level='16' host_id='mmsg'
 host_addr='10.164.74.222'&gt;
 &lt;txt&gt;ä»¥ pid=14276 å¼€å§‹
 &lt;/txt&gt;
&lt;/msg&gt;
&lt;msg time='2010-04-20T09:56:43.898+08:00' org_id='oracle' comp_id='tnslsnr'
 type='UNKNOWN' level='16' host_id='mmsg'
 host_addr='10.164.74.222'&gt;
 &lt;txt&gt;ç›‘å¬: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=10.137.49.114)(PORT=1521)))
 &lt;/txt&gt;
&lt;/msg&gt;
&lt;msg time='2010-04-20T09:56:43.898+08:00' org_id='oracle' comp_id='tnslsnr'
 type='UNKNOWN' level='16' host_id='mmsg'
 host_addr='10.164.74.222'&gt;
 &lt;txt&gt;ç›‘å¬: (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))
 &lt;/txt&gt;
&lt;/msg&gt;
&lt;msg time='2010-04-20T09:56:44.011+08:00' org_id='oracle' comp_id='tnslsnr'
 type='UNKNOWN' level='16' host_id='mmsg'
 host_addr='10.164.74.222'&gt;
 &lt;txt&gt;Listener completed notification to CRS on start
 &lt;/txt&gt;
&lt;/msg&gt;
&lt;msg time='2010-04-20T09:56:44.018+08:00' org_id='oracle' comp_id='tnslsnr'
 type='UNKNOWN' level='16' host_id='mmsg'
 host_addr='10.164.74.222'&gt;
 &lt;txt&gt;
TIMESTAMP * CONNECT DATA [* PROTOCOL INFO] * EVENT [* SID] * RETURN CODE
 &lt;/txt&gt;
&lt;/msg&gt;
</code></pre></div></div>

<p>åŸå› </p>

<p>æœºå™¨IPæ›´æ”¹ï¼Œå¯¼è‡´ç›‘å¬è¯»å–lintener.oraæ–‡ä»¶ä¸­HOSTå¤±è´¥</p>

<p>è§£å†³</p>

<p>ä¿®æ”¹lintener.oraä¸­hostä¸ºå½“å‰æœºå™¨IPåœ°å€ï¼›</p>

<p>ä¿®æ”¹/etc/hostæ–‡ä»¶ï¼Œå°†è¯¥æ–‡ä»¶ä¸­çš„IPåœ°å€æ›´æ¢æˆå½“å‰çš„IPåœ°å€ï¼ˆå³å˜åŒ–åçš„IPåœ°å€ï¼‰ï¼›</p>

<p>å¦‚ä¸Šä¿®æ”¹åé‡æ–°å¯åŠ¨ç›‘å¬</p>

<h1 id="åœæ­¢ç›‘å¬æŠ¥tns-01190">åœæ­¢ç›‘å¬æŠ¥TNS-01190</h1>

<p>è¡¨è±¡</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oracle@mmsg1:~&gt; lsnrctl stop

LSNRCTL for Linux: Version 11.1.0.7.0 - Production on 11-8æœˆ -2010 08:49:50

Copyright (c) 1991, 2008, Oracle.  All rights reserved.

æ­£åœ¨è¿æ¥åˆ° (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.137.49.167)(PORT=1521)))
TNS-01190: ç”¨æˆ·æ— æƒæ‰§è¡Œæ‰€è¯·æ±‚çš„ç›‘å¬ç¨‹åºå‘½ä»¤
</code></pre></div></div>

<p>åŸå› </p>

<p>Oracleç”¨æˆ·æœªè®¾ç½®ç›‘å¬å¯†ç ç­‰ä¿¡æ¯ï¼Œå¯¼è‡´å…¶ä»–ç”¨æˆ·åœæ­¢äº†oracleçš„ç›‘å¬ï¼Œå¹¶é‡æ–°å¯åŠ¨äº†ç›‘å¬ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oracle@mmsg1:~/product/11g/network/admin&gt; ps -ef | grep oracle
oracle   26896 25801  0 Aug10 pts/2    00:00:00 su oracle
oracle   26897 26896  0 Aug10 pts/2    00:00:00 bash
oracle   26915 26897  0 Aug10 pts/2    00:00:00 bash
oracle   26930 26915  0 Aug10 pts/2    00:00:00 -sh
syc      27829     1  0 Aug10 ?        00:00:00 /opt/oracle/product/11g/bin/tnslsnr LISTENER -inherit
root      9623  9622  0 08:48 ?        00:00:00 login -- oracle              
oracle    9624  9623  0 08:48 pts/1    00:00:00 -bash
oracle    9762  9624  0 08:55 pts/1    00:00:00 ps -ef
oracle    9763  9624  0 08:55 pts/1    00:00:00 grep oracle
</code></pre></div></div>

<p>è§£å†³æ–¹æ³•</p>

<p>rootç”¨æˆ·killæ‰ç›¸å…³è¿›ç¨‹idï¼Œoracleç”¨æˆ·é‡æ–°å¯åŠ¨linstnerï¼Œå¹¶è®¾ç½®ç›‘å¬å¯†ç ï¼Œé˜²æ­¢éoracleç”¨æˆ·è¿œç¨‹å¯åŠ¨ã€åœæ­¢ç›‘å¬ã€‚</p>

<h1 id="tns-01201æ¡ˆä¾‹listener-cannot-find-executable">TNS-01201æ¡ˆä¾‹Listener cannot find executable</h1>

<p>è¡¨è±¡</p>

<p>å¯åŠ¨ç›‘å¬æ—¶å€™ï¼ŒæŠ¥TNS-01201é”™</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oracle@mmsc101:~/product/11g/network/admin&gt; lsnrctl start

LSNRCTL for Linux: Version 11.1.0.6.0 - Production on 08-OCT-2011 15:38:38

Copyright (c) 1991, 2007, Oracle.  All rights reserved.

Starting /opt/oracle/product/11g/bin/tnslsnr: please wait...

TNSLSNR for Linux: Version 11.1.0.6.0 - Production
System parameter file is /opt/oracle/product/11g/network/admin/listener.ora
Log messages written to /opt/oracle/diag/tnslsnr/mmsc101/listener/alert/log.xml
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=10.137.73.5)(PORT=1521)))
TNS-01201: Listener cannot find executable /home/oracle/product/11g/bin/oracle for SID sdp

Listener failed to start. See the error message(s) above...
</code></pre></div></div>

<p>è§£å†³è¿‡ç¨‹</p>

<p>1ã€æŸ¥è¯¢é”™è¯¯ç ä¿¡æ¯</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oracle@mmsc101:~/product/11g/network/admin&gt; oerr TNS 01201
01201, 00000, "Listener cannot find executable %s for SID %s"
// *Cause:  The executable for the Oracle dedicated server process cannot be
// found.
// *Action: Check the appropriate SID_DESC in LISTENER.ORA to make sure that
// the ORACLE_HOME component is pointing to a valid location. If this component
// is not set, then check the value of the ORACLE_HOME environment variable.
// *Comment: This error is reported only on UNIX platforms.
oracle@mmsc101:~/product/11g/network/admin&gt; 
</code></pre></div></div>

<p>2ã€ç¡®å®šä¸€ä¸‹å½“å‰ORACLE_HOMEç›®å½•</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oracle@mmsc101:~&gt; echo  $ORACLE_HOME
/opt/oracle/product/11g
</code></pre></div></div>

<p>3ã€ æ£€æŸ¥ä¸‹ç›‘å¬é…ç½®æ–‡ä»¶</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oracle@mmsc101:~/product/11g/bin&gt; more  /opt/oracle/product/11g/network/admin/listener.ora
# listener.ora Network Configuration File: /home/oracle/product/11g/network/admin/listener.ora
# Generated by Oracle configuration tools.

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = 10.137.73.5)(PORT = 1521))
    )
  )
SID_LIST_LISTENER =
    (SID_DESC =
      (GLOBAL_DBNAME = sdp)
      (ORACLE_HOME = /home/oracle/product/11g)
      (SID_NAME = sdp)
    )
  )

                      
SID_LIST_LISTENER_RM =
(SID_LIST =
        (SID_DESC =
                (ORACLE_HOME = /opt/oracle/product/11g)
                (SID_NAME= sdp)
                (GLOBAL_DBNAME=sdp)
        )
)

LISTENER_RM =
(
        DESCRIPTION =
          (ADDRESS = (PROTOCOL = TCP)(HOST = 10.137.73.5)(PORT = 1523))
)
</code></pre></div></div>

<p>å‘ç°ç›‘å¬æ–‡ä»¶ä¸­SID_LIST_LISTENERé…ç½®ORACLE_HOMEä¸º/home/oracle/product/11gï¼Œä¸å®é™…ä¸ç¬¦ï¼Œè¿›è¡Œä¿®æ”¹ã€‚</p>

<p>4ã€ä¿®æ”¹ç›‘å¬é…ç½®æ–‡ä»¶</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oracle@mmsc101:~/product/11g/bin&gt; 


oracle@mmsc101:~/product/11g/network/admin&gt; vi listener.ora 

# listener.ora Network Configuration File: /home/oracle/product/11g/network/admin/listener.ora
# Generated by Oracle configuration tools.

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = 10.137.73.5)(PORT = 1521))
    )
  )
SID_LIST_LISTENER =
    (SID_DESC =
      (GLOBAL_DBNAME = sdp)
      (ORACLE_HOME = /opt/oracle/product/11g)
      (SID_NAME = sdp)
    )
  )



SID_LIST_LISTENER_RM =
(SID_LIST =
        (SID_DESC =
                (ORACLE_HOME = /opt/oracle/product/11g)
                (SID_NAME= sdp)
                (GLOBAL_DBNAME=sdp)
        )
)

LISTENER_RM =
(
        DESCRIPTION =
          (ADDRESS = (PROTOCOL = TCP)(HOST = 10.137.73.5)(PORT = 1523))
)
</code></pre></div></div>

<p>5ã€æŠ¥é”™åå¯åŠ¨ç›‘å¬</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oracle@mmsc101:~/product/11g/network/admin&gt; lsnrctl start

LSNRCTL for Linux: Version 11.1.0.6.0 - Production on 08-OCT-2011 15:42:42

Copyright (c) 1991, 2007, Oracle.  All rights reserved.

Starting /opt/oracle/product/11g/bin/tnslsnr: please wait...

TNSLSNR for Linux: Version 11.1.0.6.0 - Production
System parameter file is /opt/oracle/product/11g/network/admin/listener.ora
Log messages written to /opt/oracle/diag/tnslsnr/mmsc101/listener/alert/log.xml
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=10.137.73.5)(PORT=1521)))

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.137.73.5)(PORT=1521)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 11.1.0.6.0 - Production
Start Date                08-OCT-2011 15:42:42
Uptime                    0 days 0 hr. 0 min. 0 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /opt/oracle/product/11g/network/admin/listener.ora
Listener Log File         /opt/oracle/diag/tnslsnr/mmsc101/listener/alert/log.xml
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=10.137.73.5)(PORT=1521)))
Services Summary...
Service "sdp" has 1 instance(s).
  Instance "sdp", status UNKNOWN, has 1 handler(s) for this service...
The command completed successfully
oracle@mmsc101:~/product/11g/network/admin&gt;
</code></pre></div></div>

:ET