I"F<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1>

<p>ä»Šå¤©ç»†çœ‹äº†åŒäº‹Henryç¼–å†™çš„ä¸€ä¸ªshellè„šæœ¬ï¼Œçœ‹åˆ°å¦‚ä¸‹ç‰‡æ–­å†…å®¹ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    while (( $(${CLI} info |&amp; grep PROCESSING | wc -l) &gt;= 1 )); do
        sleep 60
    done
</code></pre></div></div>

<p>è¿™é‡Œæœ‰ä¸€ä¸ª<code class="highlighter-rouge">'|&amp;'</code> ï¼Œä¸æ˜è§‰å‰~  (#^.^#)</p>

<h1 id="æˆ‘çš„ç–‘æƒ‘">æˆ‘çš„ç–‘æƒ‘</h1>

<p><code class="highlighter-rouge">'|&amp;'</code>  æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</p>

<p>manäº†ä¸‹bashï¼Œå¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   Pipelines
       A pipeline is a sequence of one or more commands separated by one of the control operators | or |&amp;.  The format for a pipeline is:

              [time [-p]] [ ! ] command [ [|?|&amp;] command2 ... ]

       The  standard  output of command is connected via a pipe to the standard input of command2.  This connection is performed before any redirections specified by the command (see REDIRECTION below).  If |&amp; is used, command's standard error, in addition to its
       standard output, is connected to command2's standard input through the pipe; it is shorthand for 2&gt;&amp;1 |.  This implicit redirection of the standard error to the standard output is performed after any redirections specified by the command.

       The return status of a pipeline is the exit status of the last command, unless the pipefail option is enabled.  If pipefail is enabled, the pipeline's return status is the value of the last (rightmost) command to exit with a non-zero status, or zero if all
       commands  exit  successfully.   If  the  reserved word !  precedes a pipeline, the exit status of that pipeline is the logical negation of the exit status as described above.  The shell waits for all commands in the pipeline to terminate before returning a
       value.

       If the time reserved word precedes a pipeline, the elapsed as well as user and system time consumed by its execution are reported when the pipeline terminates.  The -p option changes the output format to that specified by POSIX.  When the shell is in posix
       mode,  it  does  not  recognize time as a reserved word if the next token begins with a `-'.  The TIMEFORMAT variable may be set to a format string that specifies how the timing information should be displayed; see the description of TIMEFORMAT under Shell
       Variables below.

       When the shell is in posix mode, time may be followed by a newline.  In this case, the shell displays the total user and system time consumed by the shell and its children.  The TIMEFORMAT variable may be used to specify the format of the time information.

       Each command in a pipeline is executed as a separate process (i.e., in a subshell).
</code></pre></div></div>

<p>è¿™é‡Œè§£é‡Šçš„éå¸¸æ¸…æ¥šäº†ï¼Œ<code class="highlighter-rouge">'|&amp;'</code>  ç­‰ä»·äº  <code class="highlighter-rouge">'2&gt;&amp;1|'</code> ï¼Œå‰è€…æ˜¯åè€…çš„ç®€å†™æ–¹å¼ï¼Œå°†æ ‡å‡†é”™è¯¯è¾“å‡º(stderr)éšå¼é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º(stdout)æ˜¯åœ¨å‘½ä»¤æŒ‡å®šçš„ä»»ä½•é‡å®šå‘ä¹‹åæ‰§è¡Œçš„ã€‚</p>

<h1 id="å…¶ä»–ä¿¡æ¯">å…¶ä»–ä¿¡æ¯</h1>

<p>æœ€æ—©æ˜¯csh/tcshé‡Œæœ‰è¿™ä¸ªç‰¹æ€§ï¼Œè¢«bashå’Œzshå­¦è¿‡æ¥äº†ï¼Œkshé‡Œ<code class="highlighter-rouge">'|&amp;'</code>  æ˜¯å¦å¤–ä¸€ç§ç”¨æ³•ï¼Œè¡¨ç¤ºçš„æ˜¯ååŒå¤„ç†ã€‚</p>

<p>å¦‚æœä½ çš„shellä¸æ”¯æŒè¿™ç§ç‰¹æ€§ï¼Œä¸€æ—¦è„šæœ¬ä¸­å«æœ‰<code class="highlighter-rouge">'|&amp;'</code> ï¼Œæ‰§è¡Œæ—¶æŠ¥é”™ï¼š</p>

<p><code class="highlighter-rouge">Syntax error: "&amp;" unexpected</code></p>

:ET